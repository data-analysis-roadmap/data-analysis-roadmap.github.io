---
title: "Animate on scroll, V3 - minimap"
layout: default
permalink: "/F_aos_V3_minimap.html"
status: "active"
description: "Same as 'Animate on Scroll, V2' but with a sticky map."
fname: "F_aos_V3_minimap"
---

<style>
    .slider {
	 position: fixed;
	 top: 10px;
	 right: 10px;
	 min-width: 150px;
	 max-width: 300px;
	 box-shadow: 0 2px 13px rgba(0,0,0,0.3);
	 cursor: pointer;
	 opacity: 0.5;
	 transition: opacity 800ms ease-in-out 200ms;
	 z-index: 999;
}
 .slider:hover {
	 opacity: 1;
	 transition-delay: 0ms;
}
 .slider__size {
	 position: relative;
	 z-index: 3;
}
 .slider__controller {
	 width: 100%;
	 padding-top: 100%;
	 position: absolute;
	 top: 0;
	 left: 0;
	 transform-origin: 0 0;
	 margin: -3px;
	 border-radius: 10px;
	 border: solid 3px black;
}
 .slider__content {
	 position: absolute;
	 top: 0;
	 left: 0;
	 width: 100%;
	 height: 100%;
	 z-index: -1;
	 transform-origin: 0 0;
}
 body {
	 background-repeat: repeat-x;
	 background-size: cover;
	 max-width: 100%;
}
 .content {
	 max-width: 50em;
	 margin: auto;
}
 p {
	 margin: 0 0 2em;
}
 img {
	 max-width: 100%;
	 height: auto;
	 margin-bottom: 2em;
}
 img {
	 display: block;
	 position: relative;
	 left: -50vw;
	 margin-left: 50%;
	 width: 30vw;
	 max-width: none;
}
 
@import url('https://fonts.googleapis.com/css2?family=Work+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');


body {
  margin: 0;
  height: 4300px;
  font-family: 'Work Sans', sans-serif !important;

}

h1 {
  font-weight: 600 !important;
}

h2 {
  font-weight: 300 !important;
}


#wrap {
  position: absolute;
  top: 80vh;
  right: 0;
}

#movingSVG {
  position: absolute;
  top: -100px;
  right: 800px;
  height: 800px;
  width: 500px;
  overflow: visible;
}


#motionP {
  fill: none;
  height: 100% !important;
  stroke: black;
  stroke-width: 100;
}

.st10 {
  fill: deeppink;

}

.st11 {
  fill: pink;

}

.st12 {
  fill: lightgreen;

}

.st13 {
  fill: mediumseagreen;

}

.st14 {
  fill: green;

}

.st0 {
  fill: none;
  stroke: #000000;
  stroke-width: 101;
  stroke-miterlimit: 10;
}

.st0 {
  fill: #2CABAC;
  stroke: #2CABAC;
  stroke-width: 4;
  stroke-linecap: round;
  stroke-linejoin: round;
}

.st1 {
  fill: #ACDEE0;
  stroke: #ACDEE0;
  stroke-width: 4;
  stroke-linecap: round;
  stroke-linejoin: round;
}

.st2 {
  fill: none;
  stroke: #FFFFFF;
  stroke-width: 4;
  stroke-linecap: round;
  stroke-linejoin: round;
}

.st3 {
  fill: none;
  stroke: #452257;
  stroke-width: 4;
  stroke-linecap: round;
  stroke-linejoin: round;
}
</style>

<div class="content container">


    <section>

        <div class = "container"   style = "margin-bottom: 500px !important;">
        
            <div class="intro container p-5" >
                <h1>Drug Repurposing ROADMAP</h1>
                <h2 class="pb-3">A subtitle or something, idk</h2>
                <p class="pb-5">At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum
                          deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident,
                          similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum
                          facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit
                          quo minus id quod maxime placeat facere possimus, omnis voluptas assumenda est, omnis dolor repellendus.
                          Temporibus autem quibusdam et aut officiis debitis aut rerum necessitatibus saepe eveniet ut et voluptates
                          repudiandae sint et molestiae non recusandae. Itaque earum rerum hic tenetur a sapiente delectus, ut aut
                          reiciendis voluptatibus maiores alias consequatur aut perferendis doloribus asperiores repellat.</p>
            </div>
        </div>
        </section>
        
        <section >
          <div class = "container" >
        
           <div id="wrap">
                <div class="road_path">
        
                    <svg id="movingSVG">
                        <path id="motionP" class="st0" d="M329.8,41.5C107.7,195.7,7.8,427.3,70.9,591.7C119.8,719.2,259.9,789,268.5,793.1
                                        c149.4,72.2,234.3-2,322.7,61.3c130.2,93.2,150,400.3,20.4,514.7c-133.3,117.7-349.6-34.6-486.1,102.1
                                        c-53.6,53.7-87.1,144.1-71,223.5c46,226.7,468.6,207.7,506.6,400.3c30.3,153.8-213.2,227-379.9,620.9
                                        c-56.7,134.1-100.9,242.4-69.4,363.6c67.1,258.7,420.1,351.2,469.8,363.6"/>
        
                        <g id="point">
                            <path class="st0" d="M21.3,46.7C3.9,55.5-3,76.6,5.8,93.9s29.9,24.2,47.2,15.4l38.5-19.5L59.8,27.2L21.3,46.7z"/>
                            <path class="st1" d="M148.1,21.8L148.1,21.8C139.1,4,117.4-3.1,99.6,5.9l-39.5,20l32.6,64.3l39.5-20
                                        C150,61.2,157.1,39.5,148.1,21.8C148.1,21.8,148.1,21.8,148.1,21.8z"/>
                            <line class="st2" x1="32.2" y1="81.2" x2="50.6" y2="72.6"/>
                            <path class="st3" d="M100.6,44.4c8-2.9,15.7-6.3,23.3-10.1"/>
                            <path class="st3" d="M117.3,51c-3-8-6.3-15.8-10.1-23.3"/>
                        </g>
        
        
                        <g id="buttonGroup">
                            <g id=" svgButton" type="button" class="" data-bs-toggle="modal" data-bs-target="#exampleModal1">
                                <circle class="st10" cx="220.7" cy="425.9" r="29.7"/>
        
                            </g>
                            <g id=" svgButton" type="button" class="" data-bs-toggle="modal" data-bs-target="#exampleModal2">
        
                                <circle class="st11" cx="350" cy="425.9" r="29.7"/>
                            </g>
                            <g id=" svgButton" type="button" class="" data-bs-toggle="modal" data-bs-target="#exampleModal3">
                                <circle class="st12" cx="550" cy="1127.8" r="29.7"/>
                            </g>
                            <g id=" svgButton" type="button" class="" data-bs-toggle="modal" data-bs-target="#exampleModal4">
                                <circle class="st13" cx="430.7" cy="1127.8" r="29.7"/>
                            </g>
                            <g id=" svgButton" type="button" class="" data-bs-toggle="modal" data-bs-target="#exampleModal5">
                                <circle class="st14" cx="320.1" cy="1127.8" r="29.7"/>
                            </g>
        
                        </g>
        
                    </svg>
                </div>
        
            </div>
        
            <!-- Modal 1 -->
            <div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel1" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel1">This is the first modal</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <img src="./img/1.svg"/>
        
                            Just a test
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        
            <!-- Modal 2 -->
            <div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel2" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel2">This is the second modal</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            Just another test, but centered this time
        
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        
        
            <!-- Modal 3 -->
            <div class="modal fade" id="exampleModal3" tabindex="-1" aria-labelledby="exampleModalLabel3" aria-hidden="true">
                <div class="modal-dialog modal-fullscreen">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel3">This is the last modal</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <i>for now</i>
        
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        
        
            <!-- Modal 4 -->
            <div class="modal fade" id="exampleModal4" tabindex="-1" aria-labelledby="exampleModalLabel4" aria-hidden="true">
                <div class="modal-dialog modal-xl">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel4">This is the fourth modal</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
        
                            <h2>let's please ignore the fact that I still don't know how to resize and/or add text to these buttons. thanku.
                            </h2>
                            <p class="py-3">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum</p>
                            <p class="py-3">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum</p>
                            <p class="py-3">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum</p>
                            <p class="py-3">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum</p>
                            <p class="py-3">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum</p>
                            <p class="py-3">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum</p>
                            <p class="py-3">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        
        
            <!-- Modal 5 -->
            <div class="modal fade" id="exampleModal5" tabindex="-1" aria-labelledby="exampleModalLabel5" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel4">This is the third modal</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <img src="./img/3.svg"/>
                            <p>more proof of concept, motherfuckers</p>
                            <p class="py-3">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum</p>
                            <p class="py-3">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum</p>
                            <p class="py-3">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum</p>
                            <p class="py-3">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum</p>
                            <p class="py-3">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum</p>
                            <p class="py-3">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum</p>
                            <p class="py-3">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum</p>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div></div>
        </div> 
        </section>
        
          
        <div id="check"></div><script src="https://unpkg.co/gsap@3/dist/gsap.min.js"></script><script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js"></script><script src="https://unpkg.com/gsap@3/dist/MotionPathPlugin.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>
        <script>
        console.clear();
        
        gsap.timeline({
          defaults:{ ease: 'none' }, 
          scrollTrigger:{
            trigger:'#wrap', 
            pin: true,
            start:'top 50%', 
            end: '+=3000' ,  // value for 'speed'
            scrub: true, // important !
            pinSpacing: false,
            onUpdate: ({progress}) => {
        
              // move the SVG so that the moving 'point' 
              // remains at the same level of viewport'.
        
              const ySet = gsap.quickSetter('#movingSVG', "y", "px");
        
              posY = gsap.getProperty('#point', 'y');
        
              ySet(-posY);
        
              // info for position = progress
              console.log(progress)
            }
          }
        })
         .to('#point', {
          motionPath:{
            path: "#motionP",
            align: "#motionP",
            alignOrigin: [ 0.5, 0.5 ]
          },
          duration: 1
        })
        </script>
        
</div>

<script src = "https://cdnjs.cloudflare.com/ajax/libs/draggabilly/2.0.1/draggabilly.pkgd.min.js"></script>

<script src = "//codepen.io/shshaw/pen/epmrgO.js"></script>


<script>
    console.clear();

(function(){
  
var doc = document,
    docEl = document.documentElement,
    body = doc.body,
    win = window;

var slider = doc.createElement('div'),
  sliderSize = doc.createElement('div'),
  controller = doc.createElement('div'),
  sliderContent = doc.createElement('iframe'),
  scale = 0.1,
  realScale = scale;

slider.className = 'slider';
sliderSize.className = 'slider__size';
controller.className = 'slider__controller';

sliderContent.className += ' slider__content';
sliderContent.style.transformOrigin = '0 0';

slider.appendChild(sliderSize);
slider.appendChild(controller);
slider.appendChild(sliderContent);
body.appendChild(slider);

var html = doc.documentElement.outerHTML
      .replace(/<script([\s\S]*?)>([\s\S]*?)<\/script>/gim, '');// Remove all scripts

 var script = '<script>var slider=document.querySelector(".slider"); slider.parentNode.removeChild(slider);<'+'/script>';
  /*function checkChildren(node){ if ( node.nodeValue ) { node.nodeValue = node.nodeValue.replace(/[a-z0-9]/gi,"\u2592"); return; } for ( var i = 0; i < node.childNodes.length; i++) { checkChildren(node.childNodes[i]); } } /* checkChildren(body); */

html = html.replace('</body>',script + '</body>');

// Must be appended to body to work.
  var iframeDoc = sliderContent.contentWindow.document;
  
iframeDoc.open();
iframeDoc.write(html);
iframeDoc.close();


////////////////////////////////////////

function getDimensions() {
  var bodyWidth = body.clientWidth,
      bodyRatio = body.clientHeight / bodyWidth,
      winRatio = win.innerHeight / win.innerWidth;

  slider.style.width = (scale * 100) + '%';
  
  // Calculate the actual scale in case a max-width/min-width is set.
  realScale = slider.clientWidth / bodyWidth;

  sliderSize.style.paddingTop = (bodyRatio * 100) + '%';
  controller.style.paddingTop = (winRatio * 100) + '%';
  
  sliderContent.style.transform = 'scale(' + realScale + ')';
  sliderContent.style.width = (100 / realScale) + '%';
  sliderContent.style.height = (100 / realScale) + '%';
}

getDimensions();
win.addEventListener('resize', getDimensions);
win.addEventListener('load', getDimensions);

////////////////////////////////////////
// Track Scroll
  
function trackScroll(){
  controller.style.transform = 'translate(' +
    ((win.pageXOffset * realScale)) + 'px, ' +
    ((win.pageYOffset * realScale)) + 'px)';
}
                       
win.addEventListener('scroll', trackScroll);
//body.addEventListener('scroll', trackScroll);


////////////////////////////////////////
// Click & Drag Events

var mouseY = 0,
    mouseX = 0,
    mouseDown = false;

function pointerDown(e){
  e.preventDefault();
  mouseDown = true;
  mouseX = e.touches ? e.touches[0].clientX : e.clientX;
  mouseY = e.touches ? e.touches[0].clientY : e.clientY;

  var offsetX = ((mouseX - slider.offsetLeft) - (controller.clientWidth / 2)) / realScale;
  var offsetY = ((mouseY - slider.offsetTop) - (controller.clientHeight / 2)) / realScale;

  win.scrollTo(offsetX, offsetY);
}
slider.addEventListener('mousedown', pointerDown); 
slider.addEventListener('touchdown', pointerDown); 

function pointerMove(e) {
  if (mouseDown) {
    e.preventDefault();

    var x = e.touches ? e.touches[0].clientX : e.clientX,
        y = e.touches ? e.touches[0].clientY : e.clientY;

    win.scrollBy((x - mouseX) / realScale, ((y - mouseY) / realScale));
    mouseX = x;
    mouseY = y;
  }
}
win.addEventListener('mousemove', pointerMove);
win.addEventListener('touchmove', pointerMove);

function pointerReset(e) { mouseDown = false; }
win.addEventListener('mouseup', pointerReset);
win.addEventListener('touchend', pointerReset);

function pointerLeave(e){
  if ( e.target === body ) { mouseDown = false; }
}
body.addEventListener('mouseleave', pointerLeave);
body.addEventListener('touchleave', pointerLeave);

}())
</script>

